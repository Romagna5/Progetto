<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link th:href="@{/style.css}" rel="stylesheet">
<title>Lista Pazienti</title>
</head>
<body>
	<nav class="navbar bg-light">
	  <div class="container-fluid">
	    <a class="navbar-brand" href="listadottori">Lista dottori</a>
	    <a class="navbar-brand" href="listapazienti">Lista pazienti</a>
	    <a class="navbar-brand" href="registrapazienti">Registra paziente</a>
	  </div>
	</nav>
	<table>
      <tr>
      	<th>CODICE FISCALE</th>
        <th>NOME</th>
        <th>COGNOME</th>
        <th>DATA NASCITA</th>
        <th>DOTTORE</th>
      </tr>
      
     <tr>
      	<form class="formc" action="regPaziente" method="post">
      		<td>
				<div class="form-floating mb-3">
					<input type="text" class="form-control" id="floatingInput" name="cod_fis_paz" placeholder="Inserisci codice fiscale paziente" required>
					<label for="floatingInput">CODICE FISCALE PAZIENTE</label>
				</div>
			</td>
	      	<td>
				<div class="form-floating mb-3">
					<input type="text" class="form-control" id="floatingInput" name="nome_paz" placeholder="Inserisci nome paziente" required>
					<label for="floatingInput">NOME PAZIENTE</label>
				</div>
			</td>
			<td>
				<div class="form-floating mb-3">
				    <input type="text" class="form-control" id="floatingInput" name="cognome_paz" placeholder="Inserisci cognome paziente" required>
				    <label for="floatingInput">COGNOME PAZIENTE</label>
				</div>
			</td>
			<td>
				<div class="form-floating mb-3">
			  		<input type="date" class="form-control" id="floatingInput" name="dataNascita_paz" required></input>
			  		<label for="floatingInput">DATA NASCITA PAZIENTE</label>
				</div>
			</td>
			<td>
				<input type="submit" class="btn btn-outline-success" value="Registra">
			</td>
		</form>
      </tr>
    </table>
    
    <h2>Pazienti Registrati</h2>
    <table>
    	<tr>
    		<th>CODICE FISCALE</th>
	        <th>NOME</th>
	        <th>COGNOME</th>
	        <th>DATA NASCITA</th>
    	</tr>
    	<tr th:each="paziente : ${pazienti}">
    		<td th:text="${paziente.cod_fis_paz}"></td>
    		<td th:text="${paziente.nome_paz}"></td>
    		<td th:text="${paziente.cognome_paz}"></td>
    		<td th:text="${paziente.dataNascita_paz}"></td>
    		<form action="aggVisita" method="post">
    			<td>
    				<input type="hidden" name="id_paz" th:value="${paziente.id_paz}">
	    			<div class="form-floating mb-3">
				  		<select class="form-control" id="floatingInput" name="id_dot" required>
						  	<option th:each="dottore : ${dottori}" th:value="${dottore.id_dot}" th:text="${dottore.nome_dot}+' '+${dottore.cognome_dot}"></option>
				  		</select>
				  		<label for="floatingInput">DOTTORE</label>
					</div>
				</td>
				<td>
					<input type="submit" class="btn btn-outline-success" value="Aggiungi Visita">
				</td>
			</form>
    	</tr>
    </table>
    <footer>
		COPYRIGHT 2022-2025 BY DOMENICO ROMAGNA
	</footer>
</body>
</html>